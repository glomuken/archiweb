<!DOCTYPE html>
<html>
<head>
    <title>Your Agricultural Website</title>
    <!-- Add your CSS styles here -->
</head>
<body>
    <h1>Welcome to Your Agricultural Website</h1>
    
    <!-- Add your website content here -->
    
    <div id="chat-container">
        <div id="chat-header">
            <h2>Chat with our Agricultural Assistant</h2>
        </div>
        <div id="chat-body">
            <div id="chat-messages"></div>
        </div>
        <div id="chat-input">
            <input type="text" id="user-input" placeholder="Type your message..." />
            <button id="send-button">Send</button>
        </div>
    </div>
    
    <!-- Add your JavaScript code here -->
    <!-- Add this JavaScript code after the HTML content -->

<script>
    const chatMessages = document.getElementById("chat-messages");
    const userInput = document.getElementById("user-input");
    const sendButton = document.getElementById("send-button");

    // Function to display a message in the chat window
    function displayMessage(text, sender) {
        const messageDiv = document.createElement("div");
        messageDiv.classList.add(sender === "user" ? "user-message" : "bot-message");
        messageDiv.innerText = text;
        chatMessages.appendChild(messageDiv);
    }

    // Function to send user input to the chatbot server
    function sendMessage() {
        const userMessage = userInput.value;
        displayMessage(userMessage, "user");
        userInput.value = "";

        // Send a POST request to your chatbot server
        fetch("/chatbot", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ message: userMessage })
        })
        .then(response => response.json())
        .then(data => {
            const botResponse = data.response;
            displayMessage(botResponse, "bot");
        })
        .catch(error => {
            console.error("Error sending message:", error);
        });
    }

    // Handle button click or Enter key press to send the message
    sendButton.addEventListener("click", sendMessage);
    userInput.addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            sendMessage();
        }
    });
</script>
</body>
</html>